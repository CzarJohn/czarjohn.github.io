<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0"/>
  <title>Cacho</title>

  <!-- CSS  -->
  <!--link href="css/icons/icons.css" rel="stylesheet">
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection"/-->
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="print"/>
  <style>
    .price{
      text-align: right;
    }
    .test{
      border: 1px solid black;
    }
    .main{
      padding:10px;
    }
    .col{
      white-space: nowrap;
      overflow: visible;
      font-size: 12px;
    }
  </style>

  <script type="text/javascript">
    window.location = 'manual.html';
  </script>

</head>
<body style="overflow-y:hidden;">

<div class="main">

<!-- <div class="row">
  <div class="test col s1">1</div>
  <div class="test col s1">2</div>
  <div class="test col s1">3</div>
  <div class="test col s1">4</div>
  <div class="test col s1">5</div>
  <div class="test col s1">6</div>
  <div class="test col s1">7</div>
  <div class="test col s1">8</div>
  <div class="test col s1">9</div>
  <div class="test col s1">10</div>
  <div class="test col s1">11</div>
  <div class="test col s1">12</div>
</div> -->

<div class="row" style="height:53px;">
  &nbsp;
</div>

<div class="row">
  <div class="col s2 offset-s10">
    <h6><span class="po-po-number"></span></h6>
  </div>
</div>

<div class="row" style="height:25px;">
  &nbsp;
</div>

<div class="row">
  <div class="col s1">
    <span class="po-date" style="margin-left:20px;"></span>
  </div>
  <div class="col s2">
    <span class="po-requested-by" style="margin-left:37px;"></span>
  </div>
  <div class="col s2">
    <span class="po-ordered-by" style="margin-left:30px;"></span>
  </div>
  <div class="col s3">
    <span class="po-completion-date"  style="margin-left:40px;"></span>
  </div>
</div>

<div class="row">
  <div class="col s4 offset-s1">
    <span class="po-to"></span>
  </div>
  <div class="col s4 offset-s2">
    <span class="po-deliver-to"></span>
  </div>
</div>

<div class="row" style="height:45px;">
  &nbsp;
</div>

<div class="row">
  <div class="col s8 offset-s2">
    COST REF: <span class="po-cost-ref"></span>
  </div>
</div>

<div class="row">
  <div class="qty-list col s1" style="margin-left:15px;"></div>
  <div class="unit-list col s1"></div>
  <div class="description-list col s5"></div>
  <div class="unit-cost-list col s2 price"></div>
  <div class="price-list col s2 price"></div>
</div>

<!--div class="">
  <table class="">
    <thead class="">
      <tr class="">
        <th class="">Qty</th>
        <th class="">Unit</th>
        <th class="">Description</th>
        <th class="price">Unit Cost</th>
        <th class="price">Price</th>
      </tr>
    </thead>
    <tbody class="item-list">
    </tbody>
  </table>
</div-->

<div class="row" style="height:350px;">
  &nbsp;
</div>


<div class="row" >
  <div class="col s8 offset-s2">
    <span class="po-to-be-used-for"></span>
  </div>
  <div class="col s2">
    <span class="total-amount"></span>
  </div>
</div>

<div class="row" style="height:10px;">
  &nbsp;
</div>

<div class="row" >
  <div class="col s2" style="margin-left:40px;">
    <span class="po-conforme"></span>
  </div>
</div>


</div>

<!--div id="write">
</div-->

  <!--  Scripts-->
  <script src="js/jquery.min.js"></script>
  <script src="js/moment.js"></script>
  <script src="js/materialize.js"></script>
  <script>

      

    function searchToObject() {
      var pairs = window.location.search.substring(1).split("&"),
        obj = {},
        pair,
        i;
      for ( i in pairs ) {
        if ( pairs[i] === "" ) continue;

        pair = pairs[i].split("=");
        obj[ decodeURIComponent( pair[0] ) ] = decodeURIComponent( pair[1] );
      }
      po = JSON.parse(obj.po);
      var p = '.po-';

      keys = ['date', 'po-number', 'completion-date','requested-by', 'ordered-by', 'cost-ref', 'to-be-used-for', 'conforme'];
      for(var i=0; i<keys.length; i+=1){
        $(p+keys[i]).html(po[keys[i]]);
      }

      keys = ['name','vat-reg', 'address', 'mobile-number', 'contact-person'];
      for(var i=0; i<keys.length; i+=1){
        $(p+'to').append('<br>'+po['to'][keys[i]]);
      }

      keys = ['name', 'project-code', 'address', 'mobile-number', 'contact-person'];
      for(var i=0; i<keys.length; i+=1){
        $(p+'deliver-to').append('<br>'+po['deliver-to'][keys[i]]);
      }

      for(var i in po['items']){
        $('.qty-list').append(po['items'][i]['quantity']+'<br>');
        $('.unit-list').append(po['items'][i]['unit']+'<br>');
        $('.description-list').append(po['items'][i]['description']+'<br>');
        $('.unit-cost-list').append(po['items'][i]['unit-price']+'<br>');
        $('.price-list').append(parseFloat(parseFloat(po['items'][i]['unit-price'])*parseInt(po['items'][i]['quantity'])).toFixed(2)+'<br>');

        /*$('.item-list').append(
          '<tr>'+
            '<td>'+po['items'][i]['quantity']+'</td>'+
            '<td>'+po['items'][i]['unit']+'</td>'+
            '<td>'+po['items'][i]['description']+'</td>'+
            '<td class="price">'+po['items'][i]['unit-price']+'</td>'+
            '<td class="price">'+parseFloat(parseFloat(po['items'][i]['unit-price'])*parseInt(po['items'][i]['quantity'])).toFixed(2)+'</td>'+
          '</tr>'
        );*/
      }

      $('.total-amount').html(parseFloat(po['total-amount']).toFixed(2));

       /*$('.item-list').append(
          '<tr style="border-top:1px solid black;">'+
            '<td></td>'+
            '<td></td>'+
            '<td></td>'+
            '<td><strong>GRAND TOTAL</strong></td>'+
            '<td class="price"><strong>'+parseFloat(po['total-amount']).toFixed(2)+'</strong></td>'+
          '</tr>'
        );*/
    }

    searchToObject();


    setTimeout(function(){
      window.print();
    },100);
  </script>




  </body>
</html>
